<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Übung 19: Die dunkle Seite von JavaScript</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <main>
      <div class="container py-5">
        <div class="alert alert-primary">
          <h1>Übung 19: Die dunkle Seite von JavaScript</h1>
          <p>
            Programmiere nun Stück für Stück ein kleines Quiz, in dem ein
            Spieler Fragen zu JS beantworten muss und damit gegen Fehler und
            schlechten Code — also die dunkle Seite von JS — antritt. Möge der
            Source mit dir sein!
          </p>
          <ol class="list">
            <li>
              <p>
                Als ersten Schritt fragst du den Spieler nach seinem Namen,
                speicherst diesen in eine Variable und begrüßt ihn mittels einer
                Alert-Box. Ergänze den folgenden Code:
              </p>
              <pre>
  <code> 'use strict'; let username = … alert(…); </code></pre>
            </li>
            <li>
              <p>
                Stelle dem Spieler die Frage, ob er sich fit genug fühlt, um
                gegen das dunkle JavaScript anzutreten. Es ist sinnvoll, bei der
                Frage die Antwortmöglichkeiten anzugeben. Die Antwort speicherst
                du in einer neuen Variable und erstellst als Nächstes eine
                <code>if</code>-Verzweigung. Der Rumpf des <code>if</code> soll
                nur ausgewertet werden, wenn der Spieler bestätigt, dass er sich
                stark genug fühlt, das Spiel zu beginnen. In den Rumpf schreiben
                wir ein <code>alert</code>, das den Spielstart bestätigt und den
                Spieler anfeuert.
              </p>
              <p>
                Für den Fall, dass der Spieler zu feige ist und einen mangelnden
                Fitness-Grad angegeben hat, schreibst du eine weitere
                <code>if</code>-Verzweigung, die den Fall abfängt und den
                Spieler mit Schimpf und Schande verabschiedet. Natürlich darfst
                du auch freundlich bleiben — ganz wie du magst.
              </p>
              <blockquote>
                <strong>Tipp:</strong> Schon während du das Programm
                entwickelst, solltest du es immer wieder testen. Führe nach
                jeder Änderung das Programm erneut aus!
              </blockquote>
            </li>
            <li>
              <p>
                Nun kann es losgehen. Stelle den Spieler vor seine erste
                Aufgabe. Deklariere nach dem <code>alert</code> eine neue
                Variable, in der du die Antwort des Spielers zu folgender Frage
                speicherst:<br />
                <code>»Which Operator has the higher priority: * or + ?«</code>
              </p>
              <p>
                Um auf die Antwort reagieren zu können, schreibe eine weitere
                <code>if</code>-Verzweigung, deren Rumpf nur ausgewertet wird,
                wenn die Antwort stimmt.
              </p>
              <p>
                <code>alert</code> gratuliert hier zur korrekten Antwort. Wenn
                du magst, kannst du noch weitere Verzweigungen mit Fragen
                einbauen.
              </p>
            </li>
            <li>
              <p>
                Füge ein weiteres <code>if</code> für die Variante ein, in der
                der Spieler eine falsche Antwort gibt.
              </p>
            </li>
          </ol>
        </div>

        <div class="alert alert-primary">
          <h1>Übung 20: Die dunkle Seite von JavaScript</h1>
          <p>
            Für dein Spiel ist else ebenfalls hilfreich. Zum Beispiel bei der
            Frage, ob der Spieler bereit zum Spielen ist. Statt hier ein zweites
            <code>if</code> einzubauen, kannst du <code>else</code> verwenden.
          </p>
          <p>
            Ersetze die <code>if</code>-Anweisungen an den richtigen Stellen
            durch ein <code>else</code>:
          </p>
        </div>

        <div class="alert alert-primary">
          <h1>Übung 23: Die dunkle Seite schlägt zurück…</h1>
          <p>
            Endlich setzt du deinen Kampf gegen die dunkle Seite von JS fort
            (siehe Übung 20) und erstellst zwei neue »Kampf-Sequenzen«:
          </p>
          <ul class="list">
            <li>
              »What's the German word for if« (Mehrere Lösungsmöglichkeiten:
              wenn, falls).
            </li>
            <li>
              »Now, please enter a string with a length between 8 and 15
              characters…«
            </li>
          </ul>
        </div>

        <form class="my-5 mx-auto" style="max-width: 500px">
          <div class="my-5 h3 text-center text-primary greeting">
            Welcome to the quiz!
          </div>

          <!-- Name Input  -->
          <div>
            <label class="my-3">
              <strong>Your name</strong>
            </label>

            <div class="input-group">
              <input
                type="text"
                class="form-control username"
                placeholder="Enter your name"
                aria-label="Username"
                id="username"
              />
              <div class="input-group-append">
                <button class="btn btn-dark usernameBtn" type="button">
                  Next
                </button>
              </div>
            </div>
          </div>

          <!-- Question #1: Fitness Check Question -->
          <div class="form-group my-5">
            <p class="my-3">
              <strong>Do you feel up to the challenge?</strong>
            </p>

            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="isFitRadio"
                value="yes"
              />
              <label class="form-check-label">Yes, I'm ready!</label>
            </div>

            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="isFitRadio"
                value="no"
              />
              <label class="form-check-label">No, I'm not ready!</label>
            </div>

            <button class="btn btn-dark mt-3 fitnessBtn" type="button" disabled>
              Next
            </button>

            <p class="mt-3 text-primary fitnessText"></p>
          </div>

          <!-- Question #2: Operator Priority -->
          <div class="form-group my-5">
            <p class="my-3">
              <strong
                >Which operator has the higher priority:
                <span class="text-primary">*</span> or
                <span class="text-primary">+</span>?</strong
              >
            </p>

            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="operatorPriority"
                value="plus"
              />
              <label class="form-check-label">+</label>
            </div>

            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="operatorPriority"
                value="multiply"
              />
              <label class="form-check-label">*</label>
            </div>

            <button
              class="btn btn-dark mt-3 operatorBtn"
              type="button"
              disabled
            >
              Next
            </button>

            <p class="mt-3 text-primary operatorText"></p>
          </div>

          <!-- Question #3: German Word If -->
          <div class="form-group my-5">
            <p class="my-3">
              <strong
                >What's the German word for
                <span class="text-primary">if</span>?</strong
              >
            </p>

            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                name="germanWord"
                value="falls"
              />
              <label class="form-check-label">falls</label>
            </div>

            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                name="germanWord"
                value="seit"
              />
              <label class="form-check-label">seit</label>
            </div>

            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                name="germanWord"
                value="wenngleich"
              />
              <label class="form-check-label">wenngleich</label>
            </div>

            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                name="germanWord"
                value="wenn"
              />
              <label class="form-check-label">wenn</label>
            </div>

            <button
              class="btn btn-dark mt-3 germanWordBtn"
              type="button"
              disabled
            >
              Next
            </button>

            <p class="mt-3 text-primary germanWordText"></p>
          </div>

          <!-- Question #4: String Length -->
          <div class="form-group">
            <p class="my-3">
              <strong
                >Now, please enter a string with a length between
                <span class="text-primary">8 and 15 characters</span>…</strong
              >
            </p>

            <input
              type="text"
              class="form-control strLength"
              placeholder="Enter a string"
            />

            <button
              class="btn btn-primary mt-3 strLengthBtn"
              type="button"
              disabled
            >
              Finish
            </button>

            <p class="mt-3 text-primary strLengthText"></p>
          </div>
        </form>
      </div>
    </main>
    <script>
      'use strict';

      const greetingEl = document.querySelector('.greeting');
      const usernameEl = document.querySelector('.username');
      const usernameBtnEl = document.querySelector('.usernameBtn');
      const fitnessBtnEl = document.querySelector('.fitnessBtn');

      usernameBtnEl.addEventListener('click', () => {
        const name = usernameEl.value;

        if (name) {
          greetingEl.textContent = `Welcome to the dark side of JavaScript, ${name}!`;
          usernameEl.disabled = true;
          usernameBtnEl.disabled = true;
          fitnessBtnEl.disabled = false;
        } else {
          greetingEl.textContent = `You need to enter a name first...`;
        }
      });

      // Question #1 Fitness Check Question
      const operatorBtn = document.querySelector('.operatorBtn');
      const fitnessText = document.querySelector('.fitnessText');

      fitnessBtnEl.addEventListener('click', () => {
        const selectedFitness = document.querySelector(
          'input[name="isFitRadio"]:checked'
        ).value;

        if (selectedFitness === 'yes') {
          fitnessText.textContent = 'Good, get ready to compete!';
          operatorBtn.disabled = false;
        } else {
          fitnessText.textContent =
            'Lazy! Refresh the page if you want to try again.';
        }

        fitnessBtnEl.disabled = true;
      });

      // Question #2 Operator Priority
      const germanWordBtnEl = document.querySelector('.germanWordBtn');
      const operatorText = document.querySelector('.operatorText');

      operatorBtn.addEventListener('click', () => {
        const selectedPriority = document.querySelector(
          'input[name="operatorPriority"]:checked'
        ).value;

        if (selectedPriority === 'multiply') {
          operatorText.textContent = "That's it! Way to go!";
          germanWordBtnEl.disabled = false;
        } else {
          operatorText.textContent =
            "Sorry, that's not right! Refresh the page and try again!";
        }
        operatorBtn.disabled = true;
      });

      // Question #3 German Word If
      const germanWordText = document.querySelector('.germanWordText');
      const strLengthBtn = document.querySelector('.strLengthBtn');

      germanWordBtnEl.addEventListener('click', () => {
        const selectedWords = document.querySelectorAll(
          'input[name="germanWord"]:checked'
        );

        let selections = [];
        const correctAnswers = ['falls', 'wenn'];

        selectedWords.forEach((w) => {
          selections.push(w.value);
        });

        if (JSON.stringify(selections) === JSON.stringify(correctAnswers)) {
          germanWordText.textContent = "That's correct. Bravo!";
          strLengthBtn.disabled = false;
        } else {
          germanWordText.textContent =
            "Too bad, that's wrong! Refresh the page and try again!";
        }

        germanWordBtnEl.disabled = true;
      });

      // Question #4 String Length
      const strLengthText = document.querySelector('.strLengthText');
      const strLengthEl = document.querySelector('.strLength');

      strLengthBtn.addEventListener('click', () => {
        const string = strLengthEl.value;

        if (string.length <= 15 && string.length >= 8) {
          strLengthText.textContent =
            'You can count, congrats! You passed the quiz!';
        } else {
          strLengthText.textContent = 'Counting is hard, eh?';
        }
      });
    </script>
  </body>
</html>
