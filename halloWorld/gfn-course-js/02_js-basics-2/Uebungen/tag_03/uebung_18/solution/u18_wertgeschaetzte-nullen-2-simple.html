<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Übung 18: Wertgeschätzte Nullen, Teil 2</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <main>
      <div class="container py-5">
        <div class="alert alert-primary">
          <h1>Übung 18: Wertgeschätzte Nullen, Teil 2</h1>
          <p>
            NerdWorld hat sein Artikelnummer-Konzept noch einmal geändert. Es
            werden jetzt stets 7-stellige Artikelnummern verwendet. Nummern, die
            weniger als 7 Stellen haben — wie z.B. 123 — sollen durch führende
            Nullen auf sieben Stellen aufgefüllt werden. Beispielsweise wird 123
            dann in 0000123 korrigiert. Schreiben Sie eine Funktion, die eine
            Artikelnummer entgegennimmt und die korrigierte Fassung als String
            zurückgibt.
          </p>
          <p>
            <strong>Experimentieren Sie:</strong> Versuchen Sie, die Übung mal
            mit times, mal mit Rekursion und auch mal ganz ohne Rekursion oder
            times zu lösen.
          </p>
        </div>
      </div>
    </main>
    <script>
      'use strict';

      const MAX_LENGTH = 7;

      const times = (n, fn) => {
        const result = Array(n).fill(0);
        result.forEach((x, i, r) => (r[i] = fn(i)));
        return result;
      };

      const getItemNumber = (n) => {
        const inputArr = n.split('');
        let articleNumber = '';

        // =========== REKURSION ===========
        // if (inputArr.length === MAX_LENGTH) {
        //   articleNumber = inputArr.join('');
        // }
        // if (inputArr.length < MAX_LENGTH) {
        //   inputArr.unshift('0');
        //   return getItemNumber(inputArr.join(''));
        // }

        // =========== PAD START ===========
        articleNumber = n.padStart(MAX_LENGTH, '0');

        return articleNumber;
      };

      const askForArticleNumber = () => {
        const input = Number(
          prompt('Bitte geben Sie eine positive Zahl zwischen 1 und 7 ein.')
        );

        if (isNaN(input) || !input || input < 1 || input > 9999999) {
          return askForArticleNumber();
        }

        const itemNumber = getItemNumber(String(input));
        console.log(itemNumber);
        return itemNumber;
      };

      askForArticleNumber();
    </script>
  </body>
</html>
